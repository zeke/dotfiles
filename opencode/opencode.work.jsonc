{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "chrome-devtools": {
      "type": "local",
      "command": ["npx", "chrome-devtools-mcp@latest"]
    },
    "cloudflare-docs": {
      "type": "remote",
      "url": "https://docs.mcp.cloudflare.com/sse",
      "enabled": true
    },
    "wiki": {
      "type": "remote",
      "url": "https://wiki.mcp.cfdata.org/mcp",
      "enabled": true,
      "oauth": {},
    },
    "replicate-code-mode": {
      "type": "local",
      "command": ["npx", "-y", "replicate-mcp@alpha", "--tools=code"],
      "environment": {
        "REPLICATE_API_TOKEN": "{env:REPLICATE_API_TOKEN}"
      }
    },
    "google-workspace": {
      "type": "remote",
      "url": "https://google-workspace-mcp.cto.cfdata.org/mcp"
    },
    "cloudflare-api": {
      "type": "remote",
      "url": "https://cloudflare-mcp.mattzcarey.workers.dev/mcp",
      "headers": {
        "Authorization": "Bearer {env:CLOUDFLARE_API_TOKEN}"
      }
    }
  },
  "permission": {
    "read": {
      "*": "allow"
    },
    "edit": {
      "*": "allow"
    },
    "webfetch": "allow",
    "external_directory": {
      "*": "ask"
    },
    "bash": {
      "*": "ask",

      // Generic shell commands
      "cat *": "allow",
      "cp *": "allow",
      "echo *": "allow",
      "find *": "allow",
      "grep *": "allow",
      "head *": "allow",
      "kill *": "allow",
      "ls *": "allow",
      "ls": "allow",
      "lsof *": "allow",
      "mkdir *": "allow",
      "mv *": "allow",
      "pwd": "allow",
      "rg *": "allow",
      "rm *": "allow",
      "rm -rf *": "deny",
      "tail *": "allow",
      "trash *": "ask",
      "which *": "allow",
      "whoami": "allow",

      // curl
      "curl *": "allow",

      // Git
      "git add *": "allow",
      "git blame *": "allow",
      "git branch *": "allow",
      "git checkout *": "allow",
      "git commit *": "allow",
      "git diff *": "allow",
      "git diff": "allow",
      "git fetch *": "allow",
      "git log *": "allow",
      "git log": "allow",
      "git merge *": "allow",
      "git push *": "allow",
      "git push --force *": "deny",
      "git push": "allow",
      "git rebase *": "allow",
      "git remote *": "allow",
      "git reset --hard *": "deny",
      "git reset --soft *": "ask",
      "git show *": "allow",
      "git show": "allow",
      "git stash list *": "allow",
      "git status *": "allow",
      "git status": "allow",
      "git switch *": "allow",

      // GitHub CLI
      "gh *": "allow",

      // Node.js / npm
      "bun *": "allow",
      "bun publish *": "deny",
      "bun publish": "deny",
      "node *": "allow",
      "npm *": "allow",
      "npm publish *": "deny",
      "npm publish": "deny",
      "npx *": "allow",
      "pnpm *": "allow",
      "pnpm publish *": "deny",
      "pnpm publish": "deny",
      "yarn install": "ask",
      "yarn publish *": "deny",
      "yarn publish": "deny",

      // Cloudflare
      "wrangler *": "allow"
    }
  }
}
